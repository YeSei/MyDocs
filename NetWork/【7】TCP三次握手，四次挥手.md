# 【7】TCP三次握手，四次挥手
三次握手：
- 第一次握手：客户端向服务端发送请求连接报文。（消耗一个报文序号）
- 第二次握手：服务端向客户端发送连接接受报文。（消耗一个报文序号）
- 第三次握手：客户端设置发送缓冲，开始发送数据。

四次挥手：
- 第一次挥手：客户端向服务端发送断开请求。
- 第二次挥手：服务端向客户端发送断开确认报文，此时TCP处于半连接状态。
- 第三次挥手：服务端向客户端发送断开请求报文，
- 第四次挥手：客户端向服务端发送断开确认报文，并等待两个最大报文寿命。

为什么一定要三次握手？
- 防止某些请求连接报文在网络中堵塞一段时间后，又到达服务端，造成服务端空等。消耗资源。

为什么一定要四次挥手？
- 防止某些断开请求在网络中堵塞一段时间后到达客户端或服务器，造成客户端或服务器空等现象。